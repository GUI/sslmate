'\" t
.\"     Title: sslmate
.\"    Author: SSLMate <sslmate@sslmate.com>
.\" Generator: DocBook XSL Stylesheets v1.76.1 <http://docbook.sf.net/>
.\"      Date: 2014-09-19
.\"    Manual: SSLMate
.\"    Source: SSLMate 0.4.0
.\"  Language: English
.\"
.TH "SSLMATE" "1" "2014\-09\-19" "SSLMate 0.4.0" "SSLMate"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
sslmate \- buy and manage SSL certificates
.SH "SYNOPSIS"
.HP \w'\fBsslmate\ \fR\fB[\fIOPTIONS\fR]\fR\fB\ \fR\fB\fICOMMAND\fR\fR\fB\ \fR\fB[\fIARGS\fR...]\fR\ 'u
\fBsslmate \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fICOMMAND\fR\fR\fB \fR\fB[\fIARGS\fR...]\fR
.SH "COMMON COMMANDS"
.HP \w'\fBsslmate\ buy\ \fR\fB\fIHOSTNAME\fR\fR\ 'u
\fBsslmate buy \fR\fB\fIHOSTNAME\fR\fR
.HP \w'\fBsslmate\ renew\ \fR\fB\fIHOSTNAME\fR\fR\ 'u
\fBsslmate renew \fR\fB\fIHOSTNAME\fR\fR
.HP \w'\fBsslmate\ reissue\ \fR\fB\fIHOSTNAME\fR\fR\ 'u
\fBsslmate reissue \fR\fB\fIHOSTNAME\fR\fR
.HP \w'\fBsslmate\ revoke\ \fR\fB[\-a]\fR\fB\ \fR\fB\fIHOSTNAME\fR\fR\ 'u
\fBsslmate revoke \fR\fB[\-a]\fR\fB \fR\fB\fIHOSTNAME\fR\fR
.HP \w'\fBsslmate\ download\ \fR\fB\fIHOSTNAME\fR...\fR\ 'u
\fBsslmate download \fR\fB\fIHOSTNAME\fR...\fR
.HP \w'\fBsslmate\ download\ \fR\fB\-\-all\fR\ 'u
\fBsslmate download \fR\fB\-\-all\fR
.HP \w'\fBsslmate\ import\ \fR\fB\fIKEYFILE\fR\fR\fB\ \fR\fB\fICERTFILE\fR\fR\ 'u
\fBsslmate import \fR\fB\fIKEYFILE\fR\fR\fB \fR\fB\fICERTFILE\fR\fR
.HP \w'\fBsslmate\ link\fR\ 'u
\fBsslmate link\fR
.SH "DESCRIPTION"
.PP

\fBsslmate\fR
is the command line client for SSLMate (\m[blue]\fBhttps://sslmate\&.com\fR\m[]), a service for purchasing and managing SSL certificates\&. SSLMate provides easy\-to\-use tools for buying, renewing, and revoking certificates, for monitoring the expiration date of your certificates, and for synchronizing your certificates between your servers\&.
.PP
SSLMate emphasizes speed, ease\-of\-use, and automation\&. For example, the command to purchase a certificate (\fBsslmate buy\fR) typically completes in under a minute and automates the steps of generating a private key, generating a CSR, and building a certificate bundle\&. SSLMate can automatically renew your certificates, and you can run
\fBsslmate download\fR
from a cron job so that renewed certificates are automatically downloaded to your server\&.
.PP
To use the
\fBsslmate\fR
command, you must create a free account at
\m[blue]\fBhttps://sslmate\&.com\fR\m[]\&.
.SH "COMMANDS"
.PP

\fBsslmate\fR
is logically divided into several sub\-commands which perform distinct tasks\&. Each sub\-command, and its arguments, are documented below\&. Note that arguments and options to sub\-commands must be specified on the command line
\fIafter\fR
the name of the sub\-command\&.
.PP
\fBbuy \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIHOSTNAME\fR\fR
.RS 4
Generate a private key and purchase a certificate for the given hostname/common name/CN\&.
.sp
The following options are understood:
.PP
\fB\-f\fR, \fB\-\-force\fR
.RS 4
Overwrite existing key and certificate files\&.
.RE
.PP
\fB\-\-auto\-renew\fR, \fB\-\-no\-auto\-renew\fR
.RS 4
Enable or disable automatic renewal for this certificate\&. If neither option is specified, your account\*(Aqs default auto\-renewal setting is used\&.
.sp
The auto\-renewal setting of an already\-purchased certificate can be changed from the SSLMate website\&.
.RE
.PP
\fB\-\-coupon=\fR\fB\fICODE\fR\fR
.RS 4
Use the given coupon code for a discount\&.
.RE
.RE
.PP
\fBrenew \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIHOSTNAME\fR\fR
.RS 4
Renew the certificate for the given hostname\&.
.sp
The following options are understood:
.PP
\fB\-f\fR, \fB\-\-force\fR
.RS 4
Overwrite existing certificate files\&.
.RE
.PP
\fB\-\-coupon=\fR\fB\fICODE\fR\fR
.RS 4
Use the given coupon code for a discount\&.
.RE
.RE
.PP
\fBreissue \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIHOSTNAME\fR\fR
.RS 4
Generate a new private key and reissue the certificate for the given hostname\&.
.sp
Reissuing a certificate does
\fInot\fR
revoke it\&. Use the
\fBsslmate revoke\fR
command to revoke a certificate after you have reissued it\&.
.sp
The following options are understood:
.PP
\fB\-f\fR, \fB\-\-force\fR
.RS 4
Overwrite existing files\&.
.RE
.RE
.PP
\fBrevoke \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIHOSTNAME\fR\fR
.RS 4
Revoke the certificate(s) for the given hostname\&.
.sp
Revoking a certificate does
\fInot\fR
issue a new certificate\&. If you need a new certificate, use the
\fBsslmate reissue\fR
command to generate and issue a new certificate
\fIbefore\fR
running
\fBsslmate revoke\fR\&.
.sp
The following options are understood:
.PP
\fB\-a\fR, \fB\-\-all\fR
.RS 4
Revoke
\fIall\fR
certificates for this host, including the most recent active certificate\&. If this option is omitted, all but the most recent active certificate are revoked\&. Generally, if you want to revoke a certificate, you should first reissue it with the
\fBreissue\fR
command and then use
\fBrevoke\fR
without the
\fB\-a\fR
option\&.
.RE
.RE
.PP
\fBdownload \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIHOSTNAME\fR...\fR
.RS 4
Download the certificate(s) for the given hostname(s), or, if
\fB\-\-all\fR
is specified, for all hostnames that have keys in the
\fIkey_directory\fR\&.
.sp
Certificate files are downloaded from your SSLMate account to your configured
\fIcert_directory\fR
(/etc/sslmate
by default if run as root,
$PWD
if run as non\-root)\&. Existing certificate files are replaced\&. Exits with status code 0 if new certificate files were downloaded, or 10 if the most up\-to\-date certificate files have already been downloaded\&.
.sp
This command is designed to be run from a cron job or configuration management script so that auto\-renewed certificates are automatically propagated to your server\&. You can check the exit status and, if zero, restart daemons so they load the latest version of the certificate\&.
.sp
The following options are understood:
.PP
\fB\-a\fR, \fB\-\-all\fR
.RS 4
Download certificate files for every key present in the
\fIkey_directory\fR
(/etc/sslmate
by default if run as root,
$PWD
if run as non\-root)\&.
.sp
If this option is used, specific hostnames cannot be specified on the command line\&.
.RE
.RE
.PP
\fBimport \fR\fB[\fIOPTIONS\fR]\fR\fB \fR\fB\fIKEYFILE\fR\fR\fB \fR\fB\fICERTFILE\fR\fR
.RS 4
Import the given certificate to your SSLMate account\&. An imported certificate works just like a certificate purchased from SSLMate with
\fBsslmate buy\fR, meaning SSLMate will monitor its expiration and you can set up automated renewals for it\&.
.sp
You must specify the paths to the key file (\fIKEYFILE\fR) and to the certificate file (\fICERTFILE\fR)\&. Note that the private key is
\fInot\fR
uploaded to SSLMate;
\fBsslmate\fR
only uses it to generate a certificate signing request\&.
.sp
The following options are understood:
.PP
\fB\-f\fR, \fB\-\-force\fR
.RS 4
Overwrite existing files\&.
.RE
.PP
\fB\-\-auto\-renew\fR, \fB\-\-no\-auto\-renew\fR
.RS 4
Enable or disable automatic renewal for this certificate\&. If neither option is specified, your account\*(Aqs default auto\-renewal setting is used\&.
.RE
.RE
.PP
\fBlink\fR
.RS 4
Link this server with your SSLMate account\&.
\fBsslmate link\fR
prompts for your SSLMate username and password and writes your API credentials to your personal SSLMate configuration file, permitting you to use the
\fBsslmate\fR
commands without having to enter your username and password\&.
.RE
.PP
\fBhelp \fR\fB[\fICOMMAND\fR]\fR
.RS 4
Display help for the given
\fICOMMAND\fR, or an overview of all commands if no command is specified\&.
.RE
.PP
\fBversion \fR\fB[\fIOPTIONS\fR]\fR
.RS 4
Print the currently\-installed version of
\fBsslmate\fR\&. By default, check if this version is up\-to\-date and print a message if a newer version is available\&.
.sp
The following options are understood:
.PP
\fB\-\-no\-check\fR
.RS 4
Do not check for a newer version\&.
.RE
.PP
\fB\-\-is\-latest\fR
.RS 4
Print no output, but exit with 0 if this version of
\fBsslmate\fR
is up\-to\-date, 10 if a newer version is available, and some other exit code if there is an error\&.
.sp
This option cannot be combined with
\fB\-\-no\-check\fR\&.
.RE
.RE
.SH "GLOBAL OPTIONS"
.PP
The following options are understood by
\fBsslmate\fR
and can be used with any sub\-command\&. Since they apply globally to
\fBsslmate\fR, they must be specified on the command line
\fIbefore\fR
the sub\-command name\&.
.PP
\fB\-\-p \fR\fB\fIPROFILE\fR\fR, \fB\-\-profile=\fR\fB\fIPROFILE\fR\fR
.RS 4
Use the given configuration profile, instead of the default\&. If this option is specified, the string "\-\fIPROFILE\fR" will be appended to the paths of the configuration file and default key and certificate directories\&.
.sp
For example, if
\fB\-\-profile=company\fR
is used, the global configuration file will be
/etc/sslmate\-company\&.conf
and the default certificate directory will be
/etc/sslmate\-company, instead of
/etc/sslmate\&.conf
and
/etc/sslmate\&.
.sp
This option is intended for those who need to use several different SSLMate accounts on a single server, since each configuration file can contain distinct SSLMate API credentials\&.
.RE
.SH "CONFIGURATION"
.PP
Upon startup,
\fBsslmate\fR
reads configuration from the global configuration file,
/etc/sslmate\&.conf, and your personal configuration file,
~/\&.sslmate, if they exist\&. These files should contain one configuration option per line of the form
\fB\fINAME\fR\fR\fB \fR\fB\fIVALUE\fR\fR\&. Blank lines and lines starting with
#
are ignored\&. Options in your personal configuration file override options set in the global configuration file\&. The location of your personal configuration file can be changed by setting the
\fI$SSLMATE_CONFIG\fR
environment variable\&.
.PP
The following options are understood:
.PP
\fIaccount_id\fR, \fIapi_key\fR
.RS 4
Your API credentials, which can be found on your
\m[blue]\fBonline SSLMate account page\fR\m[]\&\s-2\u[1]\d\s+2\&. These options are automatically set when you run
\fBsslmate link\fR\&.
.RE
.PP
\fIkey_directory\fR, \fIcert_directory\fR
.RS 4
The directories where
\fBsslmate\fR
places keys and certificates\&. When running as root, the default is
/etc/sslmate\&. When running as non\-root, the default is the current working directory\&.
.RE
.PP
\fIapi_endpoint\fR
.RS 4
The URI to the SSLMate API endpoint\&. This option does not need to be configured under normal circumstances\&.
.RE
.SH "FILES"
.PP
~/\&.sslmate
.RS 4
Your personal configuration file\&. Options set in this file override options set in the global configuration file\&. See the "Configuration" section above for the syntax of this file\&.
.RE
.PP
/etc/sslmate\&.conf
.RS 4
The global configuration file\&. See the "Configuration" section above for the syntax of this file\&.
.RE
.PP
/etc/sslmate
.RS 4
The default directory for storing keys and certificates when run as root\&. Can be overridden by the
\fIkey_directory\fR
and
\fIcert_directory\fR
configuration options\&.
.RE
.PP
SSLMate creates four files for every certificate:
.PP
\fIhostname\fR\&.key
.RS 4
The private key file for
\fIhostname\fR\&. Stored in the configured
\fIkey_directory\fR
(/etc/sslmate
by default if run as root;
$PWD
by default if run as non\-root)\&.
.RE
.PP
\fIhostname\fR\&.crt
.RS 4
The public certificate file for
\fIhostname\fR\&. Stored in the configured
\fIcert_directory\fR
(/etc/sslmate
by default if run as root;
$PWD
by default if run as non\-root)\&.
.RE
.PP
\fIhostname\fR\&.chain\&.crt
.RS 4
The certificate chain file (aka intermediate certificate) file for
\fIhostname\fR\&. Stored in the configured
\fIcert_directory\fR
(/etc/sslmate
by default if run as root;
$PWD
by default if run as non\-root)\&.
.RE
.PP
\fIhostname\fR\&.chained\&.crt
.RS 4
A concatenation of the certificate and the chain for
\fIhostname\fR\&. Stored in the configured
\fIcert_directory\fR
(/etc/sslmate
by default if run as root;
$PWD
by default if run as non\-root)\&.
.RE
.PP
You need to configure your server software (e\&.g\&. Apache, nginx) with the private key file (\&.key) and some combination of the \&.crt files\&. Some software (e\&.g\&. Apache) requires you to specify the certificate (\&.crt) and the chain (\&.chain\&.crt) in separate files, while other software (e\&.g\&. nginx) requires you to specify both in a single file (\&.chained\&.crt)\&.
.PP
You are encouraged to store keys and certificates in the SSLMate\-managed
\fIkey_directory\fR
and
\fIcert_directory\fR
(/etc/sslmate
by default) and to configure your server software to refer to keys and certificates in this directory\&. This makes automated renewals more seamless by ensuring that your server software always refers to the latest version of a certificate downloaded by
\fBsslmate download\fR\&.
.SH "ENVIRONMENT VARIABLES"
.PP
\fISSLMATE_CONFIG\fR
.RS 4
The path to your personal configuration file\&. Defaults to
$HOME/\&.sslmate\&.
.RE
.SH "SEE ALSO"
.PP

\m[blue]\fBOnline SSLMate Help\fR\m[]\&\s-2\u[2]\d\s+2,
\fBopenssl\fR(1)
.SH "NOTES"
.IP " 1." 4
online SSLMate account page
.RS 4
\%https://sslmate.com/account
.RE
.IP " 2." 4
Online SSLMate Help
.RS 4
\%https://sslmate.com/help
.RE
